//
//  cx_list.c
//
//  Created by Ubaka Onyechi on 18/08/2012.
//  Copyright (c) 2012 uonyechi.com. All rights reserved.
//

#include "cx_list.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

cx_list *cx_list_insert_front (cx_list *list, cx_list_node *node)
{
  CX_ASSERT (node);
  
  cx_list_node *head = list;
  
  node->next = head;
  
  head = node;
  
  return head;
}

cx_list *cx_list_insert_front2 (cx_list *list, void *data)
{
  cx_list_node *node = (cx_list_node *) cx_malloc (sizeof (cx_list_node));
  
  cx_list_node *head = list;
  
  node->data = data;
  
  node->next = head;
  
  head = node;
  
  return head;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

cx_list *cx_list_remove (cx_list *list, cx_list_node *node)
{
  cx_list_node *head = list;  
  cx_list_node *prev = NULL;
  cx_list_node *curr = head;
  
  while (curr)
  {
    if (curr == node)
    {
      if (curr == head)
      {
        head = curr->next;
      }
      else 
      {
        prev->next = curr->next;
      }
    }
    
    prev = curr;
    curr = curr->next;
  }
  
  return head;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
