//
//  cx_engine.h
//
//  Created by Ubaka Onyechi on 09/04/2012.
//  Copyright (c) 2012 uonyechi.com. All rights reserved.
//

#ifndef CX_ENGINE_H
#define CX_ENGINE_H

#include "cx_system.h"
#include "cx_time.h"
#include "cx_thread.h"
#include "cx_file.h"
#include "cx_graphics.h"
#include "cx_utility.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

struct cx_engine_init_params
{
  int screenWidth, screenHeight;
};

typedef struct cx_engine_init_params cx_engine_init_params;
typedef unsigned int cx_engine_init_flags;

#define CX_ENGINE_INIT_GRAPHICS   0x1
#define CX_ENGINE_INIT_ALL        (CX_ENGINE_INIT_GRAPHICS)

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

static CX_INLINE void cx_engine_init (cx_engine_init_flags flags, cx_engine_init_params *params)
{
  cx_system_init ();
  
  if ((flags & CX_ENGINE_INIT_GRAPHICS) == CX_ENGINE_INIT_GRAPHICS)
  {
    cx_graphics_init ();
    
    if (params)
    {
      cx_graphics_set_screen_dimensions (params->screenWidth, params->screenHeight);
    }
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

static CX_INLINE void cx_engine_deinit (void)
{
  cx_graphics_deinit ();
  cx_system_deinit ();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

#endif
