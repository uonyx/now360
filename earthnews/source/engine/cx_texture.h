//
//  cx_texture.h
//  earthnews
//
//  Created by Ubaka  Onyechi on 19/02/2012.
//  Copyright (c) 2012 SonOfLagos. All rights reserved.
//

#ifndef CX_TEXTURE_H
#define CX_TEXTURE_H

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "cx_system.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

#define CX_TEXTURE_DEBUG      (CX_DEBUG && 1)
#define CX_TEXTURE_DEBUG_LOG  (CX_DEBUG && 1)

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

typedef enum cx_texture_format
{
  CX_TEXTURE_FORMAT_INVALID,
  CX_TEXTURE_FORMAT_RGB,
  CX_TEXTURE_FORMAT_RGBA,
  CX_TEXTURE_FORMAT_ALPHA,
} cx_texture_format;

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

typedef struct cx_texture
{
  cxu32 id;
  
  void *data;
  cxi32 dataSize;
  
  cxi32 width;
  cxi32 height;
  cxi32 bpp;
  cxi32 format;
  
#if CX_TEXTURE_DEBUG
  char *filename;
#endif
} cx_texture;

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

cx_texture *cx_texture_create (const char *filename);
void cx_texture_destroy (cx_texture *texture);
void cx_texture_clean_up (void);

void cx_texture_gpu_init (cx_texture *texture);
void cx_texture_gpu_deinit (cx_texture *texture);

////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////

#endif
